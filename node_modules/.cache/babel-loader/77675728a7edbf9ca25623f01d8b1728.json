{"ast":null,"code":"import { config } from \"../Constants\";\nimport { authHeader, checkRefresh } from \"../Utils/auth-header\";\n\nconst getAllTransacations = params => {\n  checkRefresh();\n  const headers = authHeader();\n  const requestOptions = {\n    method: \"GET\",\n    headers\n  };\n  const url = `${config.CUSTOMER_SERV}/v1/transaction`;\n\n  if (params) {\n    url = url + \"?createdAt\" + params.createdAt;\n  }\n\n  return window.fetch(url, requestOptions).then(handleResponse).then(data => {\n    return data;\n  });\n};\n\nconst addTransacations = transaction => {\n  checkRefresh();\n  const headers = authHeader();\n  const requestOptions = {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify(transaction)\n  };\n  return window.fetch(`${config.CUSTOMER_SERV}/v1/transaction`, requestOptions).then(handleResponse).then(data => {\n    return data;\n  });\n};\n\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n    return data;\n  });\n}\n\nexport const transactionServ = {\n  getAllTransacations,\n  addTransacations\n};","map":{"version":3,"sources":["/home/boopathy/work/learnings/customer-transaction/customer-web/src/Services/transactions.service.js"],"names":["config","authHeader","checkRefresh","getAllTransacations","params","headers","requestOptions","method","url","CUSTOMER_SERV","createdAt","window","fetch","then","handleResponse","data","addTransacations","transaction","body","JSON","stringify","response","text","parse","transactionServ"],"mappings":"AAAA,SAASA,MAAT,QAAuB,cAAvB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,sBAAzC;;AAEA,MAAMC,mBAAmB,GAAIC,MAAD,IAAY;AACtCF,EAAAA,YAAY;AACZ,QAAMG,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,KADa;AAErBF,IAAAA;AAFqB,GAAvB;AAIA,QAAMG,GAAG,GAAI,GAAER,MAAM,CAACS,aAAc,iBAApC;;AACA,MAAIL,MAAJ,EAAY;AACVI,IAAAA,GAAG,GAAGA,GAAG,GAAG,YAAN,GAAqBJ,MAAM,CAACM,SAAlC;AACD;;AACD,SAAOC,MAAM,CACVC,KADI,CACEJ,GADF,EACOF,cADP,EAEJO,IAFI,CAECC,cAFD,EAGJD,IAHI,CAGEE,IAAD,IAAU;AACd,WAAOA,IAAP;AACD,GALI,CAAP;AAMD,CAjBD;;AAmBA,MAAMC,gBAAgB,GAAIC,WAAD,IAAiB;AACxCf,EAAAA,YAAY;AACZ,QAAMG,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBF,IAAAA,OAFqB;AAGrBa,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,WAAf;AAHe,GAAvB;AAKA,SAAON,MAAM,CACVC,KADI,CACG,GAAEZ,MAAM,CAACS,aAAc,iBAD1B,EAC4CH,cAD5C,EAEJO,IAFI,CAECC,cAFD,EAGJD,IAHI,CAGEE,IAAD,IAAU;AACd,WAAOA,IAAP;AACD,GALI,CAAP;AAMD,CAdD;;AAgBA,SAASD,cAAT,CAAwBO,QAAxB,EAAkC;AAChC,SAAOA,QAAQ,CAACC,IAAT,GAAgBT,IAAhB,CAAsBS,IAAD,IAAU;AACpC,UAAMP,IAAI,GAAGO,IAAI,IAAIH,IAAI,CAACI,KAAL,CAAWD,IAAX,CAArB;AACA,WAAOP,IAAP;AACD,GAHM,CAAP;AAID;;AAED,OAAO,MAAMS,eAAe,GAAG;AAC7BrB,EAAAA,mBAD6B;AAE7Ba,EAAAA;AAF6B,CAAxB","sourcesContent":["import { config } from \"../Constants\";\r\nimport { authHeader, checkRefresh } from \"../Utils/auth-header\";\r\n\r\nconst getAllTransacations = (params) => {\r\n  checkRefresh();\r\n  const headers = authHeader();\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers,\r\n  };\r\n  const url = `${config.CUSTOMER_SERV}/v1/transaction`;\r\n  if (params) {\r\n    url = url + \"?createdAt\" + params.createdAt;\r\n  }\r\n  return window\r\n    .fetch(url, requestOptions)\r\n    .then(handleResponse)\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n};\r\n\r\nconst addTransacations = (transaction) => {\r\n  checkRefresh();\r\n  const headers = authHeader();\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers,\r\n    body: JSON.stringify(transaction),\r\n  };\r\n  return window\r\n    .fetch(`${config.CUSTOMER_SERV}/v1/transaction`, requestOptions)\r\n    .then(handleResponse)\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n};\r\n\r\nfunction handleResponse(response) {\r\n  return response.text().then((text) => {\r\n    const data = text && JSON.parse(text);\r\n    return data;\r\n  });\r\n}\r\n\r\nexport const transactionServ = {\r\n  getAllTransacations,\r\n  addTransacations,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}